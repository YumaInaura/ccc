if [[ ! $(which pbcopy) ]]; then
  echo you need pbcopy
  exit
fi

if [[ $SHELL =~ zsh ]]; then
  echo -n $(history 0 | tail -n 1 | sed -e "s/^[0-9 ]*//g") | pbcopy
else
  history | tail -n 10 | head -n 1 | sed -e 's/^[ 0-9]*//g'
fi
